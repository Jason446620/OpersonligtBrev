@page "/my-resume"
@inject IResumeService ResumeService


<InputTextFloating Id="resume-name"
                   Placeholder="Ditt namn"
                   BindValue="@Resume.Name"
                   BindValueChanged="@OnResumeNameChanged"
                   AdditionalClasses="mb-3" />

<BootStrapTextArea Id="about-me"
                   Placeholder="Beskriv dig själv kortfattat..."
                   Rows="4"
                   BindValue="@Resume.AboutMe"
                   BindValueChanged="OnAboutMeChanged"
                   AdditionalClasses="mb-3"></BootStrapTextArea>




<ListCreater PlaceHolder="Språk"
             ListItems="@Resume.Languages"
             ListItemChanged="OnLanguagesChanged"
             Id="lang"></ListCreater>
<ListCreater PlaceHolder="Färdigheter"
             ListItems="@Resume.Skills"
             ListItemChanged="OnSkillsChanged"
             Id="skill"></ListCreater>

<WorkItemForm WorkItems="Resume.ResumeWorkItems" 
              ListItemChanged="@OnWorkItemsChanged"/>


@code {
    public ResumeModel Resume = new();

    private void OnAboutMeChanged(string newValue)
    {
        Resume.AboutMe = newValue;
    }

    private void OnResumeNameChanged(string newValue)
    {
        Resume.Name = newValue;
    }

    private void OnLanguagesChanged(List<string> updatedLanguages)
    {
        Resume.Languages = updatedLanguages;
    }

    private void OnSkillsChanged(List<string> updatedSkills)
    {
        Resume.Skills = updatedSkills;
    }

    private void OnWorkItemsChanged(List<ResumeWorkItem> updatedWorkItem)
    {
        Resume.ResumeWorkItems = updatedWorkItem;
    }
}